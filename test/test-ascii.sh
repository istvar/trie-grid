#!/bin/bash

# Copyright (C) 2016  Stefan Vargyas
# 
# This file is part of Trie-Grid.
# 
# Trie-Grid is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
# 
# Trie-Grid is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with Trie-Grid.  If not, see <http://www.gnu.org/licenses/>.

#
# File generated by a command like:
# $ gen-test -T ascii
#

[[ "$1" =~ ^-u[0-9]+$ ]] &&
u="${1:2}" ||
u=""

diff -u$u -L ascii.old <(echo \
'$ test -x ./trie
$ print() { printf '\''%s\n'\'' "$@"; }
$ ascii() { python -c $'\''\ns = ""\nfor i in range(256):\n\tif i in [ord("\\n")]:\n\t\ti = 0\n\ts += chr(i)\n\tif len(s) % 16 == 0:\n\t\tprint s\n\t\ts = ""\n'\''; }
$ ascii|./trie -c
{
    "\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\x00\v\f\r\x0e\x0f": "\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\x00\v\f\r\x0e\x0f"
    "\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f": "\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f"
    " !\"#$%&'\''()*+,-./": " !\"#$%&'\''()*+,-./"
    "0123456789:;<=>?": "0123456789:;<=>?"
    "@ABCDEFGHIJKLMNO": "@ABCDEFGHIJKLMNO"
    "PQRSTUVWXYZ[\\]^_": "PQRSTUVWXYZ[\\]^_"
    "`abcdefghijklmno": "`abcdefghijklmno"
    "pqrstuvwxyz{|}~\x7f": "pqrstuvwxyz{|}~\x7f"
    "\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f": "\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f"
    "\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f": "\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f"
    "\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf": "\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf"
    "\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf": "\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf"
    "\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf": "\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf"
    "\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf": "\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf"
    "\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef": "\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef"
    "\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff": "\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"
}
$ ascii|./trie -w -D
{
.   '\''\x0'\'' {
.   .   '\''\x1'\'' {
.   .   .   '\''\x2'\'' {
.   .   .   .   '\''\x3'\'' {
.   .   .   .   .   '\''\x4'\'' {
.   .   .   .   .   .   '\''\x5'\'' {
.   .   .   .   .   .   .   '\''\x6'\'' {
.   .   .   .   .   .   .   .   '\''\x7'\'' {
.   .   .   .   .   .   .   .   .   '\''\x8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\t'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\x0'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\v'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\f'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\r'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xe'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xf'\'': "\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\x00\v\f\r\x0e\x0f"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\x10'\'' {
.   .   '\''\x11'\'' {
.   .   .   '\''\x12'\'' {
.   .   .   .   '\''\x13'\'' {
.   .   .   .   .   '\''\x14'\'' {
.   .   .   .   .   .   '\''\x15'\'' {
.   .   .   .   .   .   .   '\''\x16'\'' {
.   .   .   .   .   .   .   .   '\''\x17'\'' {
.   .   .   .   .   .   .   .   .   '\''\x18'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\x19'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\x1a'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\x1b'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x1c'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x1d'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x1e'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x1f'\'': "\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\'' '\'' {
.   .   '\''!'\'' {
.   .   .   '\''"'\'' {
.   .   .   .   '\''#'\'' {
.   .   .   .   .   '\''$'\'' {
.   .   .   .   .   .   '\''%'\'' {
.   .   .   .   .   .   .   '\''&'\'' {
.   .   .   .   .   .   .   .   '\''\'\'''\'' {
.   .   .   .   .   .   .   .   .   '\''('\'' {
.   .   .   .   .   .   .   .   .   .   '\'')'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''*'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''+'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\'','\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''-'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''.'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''/'\'': " !\"#$%&'\''()*+,-./"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''0'\'' {
.   .   '\''1'\'' {
.   .   .   '\''2'\'' {
.   .   .   .   '\''3'\'' {
.   .   .   .   .   '\''4'\'' {
.   .   .   .   .   .   '\''5'\'' {
.   .   .   .   .   .   .   '\''6'\'' {
.   .   .   .   .   .   .   .   '\''7'\'' {
.   .   .   .   .   .   .   .   .   '\''8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''9'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\'':'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\'';'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''<'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''='\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''>'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''?'\'': "0123456789:;<=>?"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''@'\'' {
.   .   '\''A'\'' {
.   .   .   '\''B'\'' {
.   .   .   .   '\''C'\'' {
.   .   .   .   .   '\''D'\'' {
.   .   .   .   .   .   '\''E'\'' {
.   .   .   .   .   .   .   '\''F'\'' {
.   .   .   .   .   .   .   .   '\''G'\'' {
.   .   .   .   .   .   .   .   .   '\''H'\'' {
.   .   .   .   .   .   .   .   .   .   '\''I'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''J'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''K'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''L'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''M'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''N'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''O'\'': "@ABCDEFGHIJKLMNO"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''P'\'' {
.   .   '\''Q'\'' {
.   .   .   '\''R'\'' {
.   .   .   .   '\''S'\'' {
.   .   .   .   .   '\''T'\'' {
.   .   .   .   .   .   '\''U'\'' {
.   .   .   .   .   .   .   '\''V'\'' {
.   .   .   .   .   .   .   .   '\''W'\'' {
.   .   .   .   .   .   .   .   .   '\''X'\'' {
.   .   .   .   .   .   .   .   .   .   '\''Y'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''Z'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''['\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\\'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\'']'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''^'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''_'\'': "PQRSTUVWXYZ[\\]^_"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''`'\'' {
.   .   '\''a'\'' {
.   .   .   '\''b'\'' {
.   .   .   .   '\''c'\'' {
.   .   .   .   .   '\''d'\'' {
.   .   .   .   .   .   '\''e'\'' {
.   .   .   .   .   .   .   '\''f'\'' {
.   .   .   .   .   .   .   .   '\''g'\'' {
.   .   .   .   .   .   .   .   .   '\''h'\'' {
.   .   .   .   .   .   .   .   .   .   '\''i'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''j'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''k'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''l'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''m'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''n'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''o'\'': "`abcdefghijklmno"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''p'\'' {
.   .   '\''q'\'' {
.   .   .   '\''r'\'' {
.   .   .   .   '\''s'\'' {
.   .   .   .   .   '\''t'\'' {
.   .   .   .   .   .   '\''u'\'' {
.   .   .   .   .   .   .   '\''v'\'' {
.   .   .   .   .   .   .   .   '\''w'\'' {
.   .   .   .   .   .   .   .   .   '\''x'\'' {
.   .   .   .   .   .   .   .   .   .   '\''y'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''z'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''{'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''|'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''}'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''~'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x7f'\'': "pqrstuvwxyz{|}~\x7f"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\x80'\'' {
.   .   '\''\x81'\'' {
.   .   .   '\''\x82'\'' {
.   .   .   .   '\''\x83'\'' {
.   .   .   .   .   '\''\x84'\'' {
.   .   .   .   .   .   '\''\x85'\'' {
.   .   .   .   .   .   .   '\''\x86'\'' {
.   .   .   .   .   .   .   .   '\''\x87'\'' {
.   .   .   .   .   .   .   .   .   '\''\x88'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\x89'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\x8a'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\x8b'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x8c'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x8d'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x8e'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x8f'\'': "\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\x90'\'' {
.   .   '\''\x91'\'' {
.   .   .   '\''\x92'\'' {
.   .   .   .   '\''\x93'\'' {
.   .   .   .   .   '\''\x94'\'' {
.   .   .   .   .   .   '\''\x95'\'' {
.   .   .   .   .   .   .   '\''\x96'\'' {
.   .   .   .   .   .   .   .   '\''\x97'\'' {
.   .   .   .   .   .   .   .   .   '\''\x98'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\x99'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\x9a'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\x9b'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x9c'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x9d'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x9e'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\x9f'\'': "\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\xa0'\'' {
.   .   '\''\xa1'\'' {
.   .   .   '\''\xa2'\'' {
.   .   .   .   '\''\xa3'\'' {
.   .   .   .   .   '\''\xa4'\'' {
.   .   .   .   .   .   '\''\xa5'\'' {
.   .   .   .   .   .   .   '\''\xa6'\'' {
.   .   .   .   .   .   .   .   '\''\xa7'\'' {
.   .   .   .   .   .   .   .   .   '\''\xa8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\xa9'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\xaa'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\xab'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xac'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xad'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xae'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xaf'\'': "\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\xb0'\'' {
.   .   '\''\xb1'\'' {
.   .   .   '\''\xb2'\'' {
.   .   .   .   '\''\xb3'\'' {
.   .   .   .   .   '\''\xb4'\'' {
.   .   .   .   .   .   '\''\xb5'\'' {
.   .   .   .   .   .   .   '\''\xb6'\'' {
.   .   .   .   .   .   .   .   '\''\xb7'\'' {
.   .   .   .   .   .   .   .   .   '\''\xb8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\xb9'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\xba'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\xbb'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xbc'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xbd'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xbe'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xbf'\'': "\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\xc0'\'' {
.   .   '\''\xc1'\'' {
.   .   .   '\''\xc2'\'' {
.   .   .   .   '\''\xc3'\'' {
.   .   .   .   .   '\''\xc4'\'' {
.   .   .   .   .   .   '\''\xc5'\'' {
.   .   .   .   .   .   .   '\''\xc6'\'' {
.   .   .   .   .   .   .   .   '\''\xc7'\'' {
.   .   .   .   .   .   .   .   .   '\''\xc8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\xc9'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\xca'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\xcb'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xcc'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xcd'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xce'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xcf'\'': "\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\xd0'\'' {
.   .   '\''\xd1'\'' {
.   .   .   '\''\xd2'\'' {
.   .   .   .   '\''\xd3'\'' {
.   .   .   .   .   '\''\xd4'\'' {
.   .   .   .   .   .   '\''\xd5'\'' {
.   .   .   .   .   .   .   '\''\xd6'\'' {
.   .   .   .   .   .   .   .   '\''\xd7'\'' {
.   .   .   .   .   .   .   .   .   '\''\xd8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\xd9'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\xda'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\xdb'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xdc'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xdd'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xde'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xdf'\'': "\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\xe0'\'' {
.   .   '\''\xe1'\'' {
.   .   .   '\''\xe2'\'' {
.   .   .   .   '\''\xe3'\'' {
.   .   .   .   .   '\''\xe4'\'' {
.   .   .   .   .   .   '\''\xe5'\'' {
.   .   .   .   .   .   .   '\''\xe6'\'' {
.   .   .   .   .   .   .   .   '\''\xe7'\'' {
.   .   .   .   .   .   .   .   .   '\''\xe8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\xe9'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\xea'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\xeb'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xec'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xed'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xee'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xef'\'': "\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
.   '\''\xf0'\'' {
.   .   '\''\xf1'\'' {
.   .   .   '\''\xf2'\'' {
.   .   .   .   '\''\xf3'\'' {
.   .   .   .   .   '\''\xf4'\'' {
.   .   .   .   .   .   '\''\xf5'\'' {
.   .   .   .   .   .   .   '\''\xf6'\'' {
.   .   .   .   .   .   .   .   '\''\xf7'\'' {
.   .   .   .   .   .   .   .   .   '\''\xf8'\'' {
.   .   .   .   .   .   .   .   .   .   '\''\xf9'\'' {
.   .   .   .   .   .   .   .   .   .   .   '\''\xfa'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   '\''\xfb'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xfc'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xfd'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xfe'\'' {
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   '\''\xff'\'': "\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"
.   .   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   .   }
.   .   .   .   .   .   .   }
.   .   .   .   .   .   }
.   .   .   .   .   }
.   .   .   .   }
.   .   .   }
.   .   }
.   }
}'
) -L ascii.new <(
echo '$ test -x ./trie'
test -x ./trie 2>&1 ||
echo 'command failed: test -x ./trie'

echo '$ print() { printf '\''%s\n'\'' "$@"; }'
print() { printf '%s\n' "$@"; } 2>&1 ||
echo 'command failed: print() { printf '\''%s\n'\'' "$@"; }'

echo '$ ascii() { python -c $'\''\ns = ""\nfor i in range(256):\n\tif i in [ord("\\n")]:\n\t\ti = 0\n\ts += chr(i)\n\tif len(s) % 16 == 0:\n\t\tprint s\n\t\ts = ""\n'\''; }'
ascii() { python -c $'\ns = ""\nfor i in range(256):\n\tif i in [ord("\\n")]:\n\t\ti = 0\n\ts += chr(i)\n\tif len(s) % 16 == 0:\n\t\tprint s\n\t\ts = ""\n'; } 2>&1 ||
echo 'command failed: ascii() { python -c $'\''\ns = ""\nfor i in range(256):\n\tif i in [ord("\\n")]:\n\t\ti = 0\n\ts += chr(i)\n\tif len(s) % 16 == 0:\n\t\tprint s\n\t\ts = ""\n'\''; }'

echo '$ ascii|./trie -c'
ascii|./trie -c 2>&1 ||
echo 'command failed: ascii|./trie -c'

echo '$ ascii|./trie -w -D'
ascii|./trie -w -D 2>&1 ||
echo 'command failed: ascii|./trie -w -D'
)

